var builder = require('botbuilder');
var restify = require('restify');

//=========================================================
// Bot Setup
//=========================================================

// Setup Restify Server
var server = restify.createServer();
server.listen(process.env.port || process.env.PORT || 3978, function () {
   console.log('%s listening to %s', server.name, server.url); 
});
  
// Create chat bot
var connector = new builder.ChatConnector({
    appId: process.env.MY_APP_ID,
    appPassword: process.env.MY_APP_PASSWORD
});
var bot = new builder.UniversalBot(connector);
server.post('/api/messages', connector.listen());

//=========================================================
// Bots Dialogs
//=========================================================

var films = ["12 Angry Men","12 Years a Slave","2001 A Space Odyssey","3 Idiots","A Beautiful Mind","A Clockwork Orange","A Separation","A Wednesday","Alien","Aliens","All About Eve","Amadeus","Amelie","American Beauty","American History X","Amores Perros","Andaz Apna Apna","Andrei Rublev","Annie Hall","Apocalypse Now","Back to the Future","Barry Lyndon","Batman Begins","Beauty and the Beast","Before Sunrise","Ben-Hur","Bicycle Thieves","Blade Runner","Braveheart","Butch Cassidy and the Sundance Kid","Casablanca","Casino","Catch Me If You Can","Children of Heaven","Chinatown","Cinema Paradiso","Citizen Kane","City Lights","City of God","Come and See","Cool Hand Luke","Dangal","Das Boot","Diabolique","Dial M for Murder","Die Hard","Django Unchained","Dog Day Afternoon","Donnie Darko","Double Indemnity","Downfall","Dr Strangelove or How I Learned to Stop Worrying and Love the Bomb","Drishyam","Eternal Sunshine of the Spotless Mind","Fargo","Fight Club","Finding Nemo","For a Few Dollars More","Forrest Gump","Full Metal Jacket","Gandhi","Gangs of Wasseypur","Gladiator","Gone Girl","Gone with the Wind","Good Will Hunting","Goodfellas","Gran Torino","Grave of the Fireflies","Groundhog Day","Hachi A Dogs Tale","Hacksaw Ridge","Harry Potter and the Deathly Hallows Part 2","Heat","Hera Pheri","Hotel Rwanda","How to Train Your Dragon","Howls Moving Castle","Ikiru","In the Mood for Love","In the Name of the Father","Incendies","Inception","Indiana Jones and the Last Crusade","Infernal Affairs","Inglourious Basterds","Inside Out","Interstellar","Into the Wild","It Happened One Night","Its a Wonderful Life","Jaws","Judgment at Nuremberg","Jurassic Park","Kill Bill Vol 1","LA Confidential","La Haine","La La Land","Lawrence of Arabia","Léon The Professional","Life Is Beautiful","Life of Brian","Like Stars on Earth","Lock Stock and Two Smoking Barrels","Logan","Mad Max Fury Road","Mary and Max","Memento","Memories of Murder","Metropolis","Million Dollar Baby","Modern Times","Monsters Inc","Monty Python and the Holy Grail","Mr Smith Goes to Washington","Munna Bhai MBBS","My Father and My Son","My Neighbor Totoro","Nausicaä of the Valley of the Wind","Network","No Country for Old Men","North by Northwest","Oldboy","On the Waterfront","Once Upon a Time in America","Once Upon a Time in the West","One Flew Over the Cuckoos Nest","Pans Labyrinth","Paths of Glory","Persona","Pirates of the Caribbean The Curse of the Black Pearl","PK","Platoon","Princess Mononoke","Prisoners","Psycho","Pulp Fiction","Raging Bull","Raiders of the Lost Ark","Ran","Rang De Basanti","Rashomon","Rear Window","Rebecca","Requiem for a Dream","Reservoir Dogs","Rocky","Room","Rush","Saving Private Ryan","Scarface","Schindlers List","Se7en","Seven Samurai","Sholay","Shutter Island","Singin in the Rain","Snatch","Some Like It Hot","Spirited Away","Spotlight","Stalker","Stand by Me","Star Wars Episode IV A New Hope","Star Wars Episode V The Empire Strikes Back","Star Wars Episode VI Return of the Jedi","Star Wars The Force Awakens","Sunrise","Sunset Boulevard","Taxi Driver","Terminator 2 Judgment Day","The 400 Blows","The Apartment","The Bandit","The Battle of Algiers","The Best Years of Our Lives","The Big Lebowski","The Bourne Ultimatum","The Bridge on the River Kwai","The Dark Knight","The Dark Knight Rises","The Deer Hunter","The Departed","The Elephant Man","The General","The Godfather","The Godfather Part II","The Gold Rush","The Good the Bad and the Ugly","The Grand Budapest Hotel","The Grapes of Wrath","The Great Dictator","The Great Escape","The Green Mile","The Help","The Hunt","The Intouchables","The Kid","The Lion King","The Lives of Others","The Lord of the Rings The Fellowship of the Ring","The Lord of the Rings The Return of the King","The Lord of the Rings The Two Towers","The Maltese Falcon","The Matrix","The Nights of Cabiria","The Passion of Joan of Arc","The Pianist","The Prestige","The Princess Bride","The Secret in Their Eyes","The Seventh Seal","The Shawshank Redemption","The Shining","The Silence of the Lambs","The Sixth Sense","The Sting","The Terminator","The Thing","The Third Man","The Treasure of the Sierra Madre","The Truman Show","The Usual Suspects","The Wages of Fear","The Wizard of Oz","The Wolf of Wall Street","There Will Be Blood","To Kill a Mockingbird","Tokyo Story","Touch of Evil","Toy Story","Toy Story 3","Trainspotting","Twelve Monkeys","Unforgiven","Up","V for Vendetta","Vertigo","WALLE","Warrior","What Ever Happened to Baby Jane","Whiplash","Wild Strawberries","Wild Tales","Witness for the Prosecution","Yojimbo","Your Name","Zootopia"];

var songs = ["2 BECOME 1","21 SECONDS","3 AM ETERNAL","4 MINUTES","7 DAYS","7 YEARS","99 RED BALLOONS","9PM TILL I COME","A BRIDGE OVER YOU","A DIFFERENT BEAT","A DIFFERENT CORNER","A FOOL SUCH AS I/I NEED YOUR LOVE TONIGHT","A GOOD HEART","A GROOVY KIND OF LOVE","A HARD DAYS NIGHT","A LITTLE BIT MORE","A LITTLE LESS CONVERSATION","A LITTLE PEACE","A LITTLE TIME","A MOMENT LIKE THIS","A TOWN CALLED MALICE/PRECIOUS","A WHITER SHADE OF PALE","A WOMAN IN LOVE","A WORLD WITHOUT LOVE","ABBA-ESQUE EP","ABOUT YOU NOW","AGAINST ALL ODDS","AINT NO DOUBT","AINT NOBODY","AIRPLANES","ALBATROSS","ALL ABOUT THAT BASS","ALL ABOUT TONIGHT","ALL ABOUT YOU/YOUVE GOT A FRIEND","ALL AROUND THE WORLD","ALL I HAVE TO DO IS DREAM/CLAUDETTE","ALL KINDS OF EVERYTHING","ALL OR NOTHING","ALL SHOOK UP","ALL SUMMER LONG","ALL THAT I NEED","ALL THAT SHE WANTS","ALL THE THINGS SHE SAID","ALL THIS TIME","ALL TIME LOW","ALL YOU NEED IS LOVE","ALWAYS ON MY MIND","ALWAYS YOURS","AM I WRONG","AMAZING GRACE","AMERICA","AMERICAN BOY","AMERICAN PIE","ANGEL","ANGEL FINGERS","ANGELO","ANIMALS","ANNIES SONG","ANOTHER BRICK IN THE WALL PART 2","ANOTHER CHANCE","ANSWER ME","ANY DREAM WILL DO","ANYONE OF US STUPID MISTAKE","ANYONE WHO HAD A HEART","ANYTHING IS POSSIBLE/ EVERGREEN","APACHE","ARE FRIENDS ELECTRIC","ARE YOU LONESOME TONIGHT","ARE YOU READY FOR LOVE","ARE YOU WITH ME","AS I LOVE YOU","ASHES TO ASHES","ATOMIC","AXEL F","BABE","BABY COME BACK","BABY JANE","BABY JUMP","BABY LOVE","BABY NOW THAT IVE FOUND YOU","BABY ONE MORE TIME","BABYCAKES","BABYS COMING BACK/TRANSYLVANIA","BACK FOR GOOD","BACK HOME","BACK TO LIFE HOWEVER DO YOU WANT ME","BAD BOYS","BAD MOON RISING","BAD ROMANCE","BAD TO ME","BAG IT UP","BAND OF GOLD","BANG BANG","BARBADOS","BARBIE GIRL","BE FAITHFUL","BEAT AGAIN","BEAT SURRENDER","BEAUTIFUL","BEAUTIFUL DAY","BEAUTIFUL GIRLS","BEAUTIFUL LIAR","BEAUTIFUL MONSTER","BECAUSE I GOT HIGH","BECAUSE WE WANT TO","BEETLEBUM","BEGIN THE BEGUINE VOLVER A EMPEZAR","BEING WITH YOU","BELFAST CHILD","BELIEVE","BENEATH YOUR BEAUTIFUL","BILLIE JEAN","BILLY, DONT BE A HERO","BLACK COFFEE","BLACK MAGIC","BLACK OR WHITE","BLACKBERRY WAY","BLAME","BLAME IT ON THE WEATHERMAN","BLEEDING LOVE","BLOCK ROCKIN BEATS","BLOCKBUSTER","BLOOD ON THE DANCE FLOOR","BLUE DA BA DEE","BLUE MOON","BLURRED LINES","BOHEMIAN RHAPSODY","BOHEMIAN RHAPSODY/THESE ARE THE DAYS OF OUR LIVES","BOM BOM","BONKERS","BOOM BOOM BOOM","BOOM BOOM BOOM BOOM!!","BOOM BOOM POW","BOOM! SHAKE THE ROOM","BOOMBASTIC","BOOTIE CALL","BORN TO MAKE YOU HAPPY","BOUND 4 DA RELOAD CASUALTY","BOYS AND GIRLS","BRASS IN POCKET","BREAK YOUR HEART","BREAKFAST AT TIFFANYS","BREATHE","BREATHLESS","BRIDGE OVER TROUBLED WATER","BRIGHT EYES","BRIMFUL OF ASHA","BRING IT ALL BACK","BRING ME TO LIFE","BRING YOUR DAUGHTER...TO THE SLAUGHTER","BROKEN WINGS","BULLETPROOF","BURN","BUTTERFLY","BYE BYE BABY","CALIFORNIA GURLS","CALL ME","CALL ME MAYBE","CALL MY NAME","CALL ON ME","CAN THE CAN","CAN WE FIX IT","CANDY","CANDY GIRL","CANNONBALL","CANT BUY ME LOVE","CANT FIGHT THE MOONLIGHT","CANT GET YOU OUT OF MY HEAD","CANT GIVE YOU ANYTHING BUT MY LOVE","CARA MIA","CARAVAN OF LOVE","CARELESS WHISPER","CAROLINA MOON/STUPID CUPID","CARS","CATHYS CLOWN","CEST LA VIE","CHA CHA SLIDE","CHAIN REACTION","CHANGED THE WAY YOU KISS ME","CHANGES","CHANGING","CHANSON DAMOUR","CHEERLEADER FELIX JAEHN REMIX","CHERRY PINK AND APPLE BLOSSOM WHITE","CHINA IN YOUR HAND","CHIRPY CHIRPY CHEEP CHEEP","CHOCOLATE SALTY BALLS PS I LOVE YOU","CHRISTMAS ALPHABET","CINDERELLA ROCKEFELLA","CLAIR","CLOSER","CLUB CANT HANDLE ME","COLD WATER","COLOURBLIND","COMBINE HARVESTER BRAND NEW KEY","COME ON EILEEN","COME ON YOU REDS","COME OUTSIDE","COMES A-LONG A-LOVE","CONCRETE AND CLAY","CONFESSIN THAT I LOVE YOU","CONGRATULATIONS","COTTON EYE JOE","COUNTING STARS","COUNTRY HOUSE","COWARD OF THE COUNTY","COZ I LUV YOU","CRASHED THE WEDDING","CRAZY","CRAZY IN LOVE","CRAZY STUPID LOVE","CROSSROADS","CRYING","CRYING IN THE CHAPEL","CUM ON FEEL THE NOIZE","CUMBERLAND GAP","D.I.V.O.R.C.E.","DA YA THINK IM SEXY","DAKOTA","DANCE ON!","DANCE WITH ME TONIGHT","DANCE WIV ME","DANCING IN THE STREETS","DANCING QUEEN","DARE","DAY & NIGHT","DAY TRIPPER/WE CAN WORK IT OUT","DAYDREAMER/THE PUPPY SONG","DECEMBER 63 OH WHAT A NIGHT","DEEPER UNDERGROUND","DEEPLY DIPPY","DÉJÀ VU","DESIRE","DEVIL GATE DRIVE","DIAMONDS","DIANA","DIANE","DILEMMA","DIRRTY","DIRTEE DISCO","DISCOTHEQUE","DISTANT DRUMS","DIZZY","DO IT AGAIN","DO THE BARTMAN","DO THEY KNOW ITS CHRISTMAS","DO WAH DIDDY DIDDY","DO YOU LOVE ME","DO YOU MIND","DO YOU REALLY LIKE IT","DO YOU REALLY WANT TO HURT ME","DOCTOR JONES","DOCTORIN THE TARDIS","DOMINO","DONT BE SO HARD ON YOURSELF","DONT CALL ME BABY","DONT CHA","DONT CRY FOR ME ARGENTINA","DONT GIVE UP","DONT GIVE UP ON US","DONT GO","DONT GO BREAKING MY HEART","DONT HOLD YOUR BREATH","DONT LEAVE ME THIS WAY","DONT LET THE STARS GET IN YOUR EYES","DONT LET THE SUN GO DOWN ON ME","DONT LOOK BACK IN ANGER","DONT SPEAK","DONT STAND SO CLOSE TO ME","DONT STOP ME NOW/PLEASE, PLEASE","DONT STOP MOVIN","DONT STOP WIGGLE WIGGLE","DONT THROW YOUR LOVE AWAY","DONT TURN AROUND","DONT WANNA GO HOME","DONT YOU WANT ME","DONT YOU WORRY CHILD","DOOP","DOUBLE BARREL","DOWN DOWN","DOWN UNDER","DRAG ME DOWN","DREADLOCK HOLIDAY","DREAM LOVER","DREAMBOAT","DREAMER","DREAMS","DRY YOUR EYES","DUB BE GOOD TO ME","DYNAMITE","DYOU KNOW WHAT I MEAN","EARTH SONG","EASY LOVE","EASY LOVER","EBENEEZER GOODE","EBONY AND IVORY","END OF THE ROAD","ERNIE THE FASTEST MILKMAN IN THE WEST","ESPECIALLY FOR YOU","ETERNAL FLAME","ETERNITY/THE ROAD TO MANDALAY","EVACUATE THE DANCEFLOOR","EVERLASTING LOVE","EVERY BREATH YOU TAKE","EVERY LITTLE THING SHE DOES IS MAGIC","EVERY LOSER WINS","EVERYBODY HURTS","EVERYBODY IN LOVE","EVERYBODYS FREE TO WEAR SUNSCREEN","EVERYTHING CHANGES","EVERYTHING I DO I DO IT FOR YOU","EVERYTHING I OWN","EVERYTIME","EYE LEVEL","EYE OF THE TIGER","F.U.R.B F U RIGHT BACK","F**K IT I DONT WANT YOU BACK","FAIRGROUND","FAME","FASTLOVE","FEEL IT","FEEL THE LOVE","FEELS LIKE IM IN LOVE","FERNANDO","FERRY CROSS THE MERSEY","FIGARO","FIGHT FOR THIS LOVE","FIGHT SONG","FILL ME IN","FINGER OF SUSPICION","FIRE","FIREFLIES","FIRESTARTER","FIVE COLOURS IN HER HAIR","FIVE LIVE EP","FLAT BEAT","FLAVA","FLOAT ON","FLY AWAY","FLYING WITHOUT WINGS","FOOL AGAIN","FOOT TAPPER","FOREVER AND EVER","FOREVER LOVE","FORGET YOU","FRANKIE","FREAK LIKE ME","FREAK ME","FREE","FREEDOM","FROM ME TO YOU","FROZEN","GAMBLIN MAN/PUTTING ON THE STYLE","GANGNAM STYLE","GANGSTAS PARADISE","GECKO OVERDRIVE","GENIE IN A BOTTLE","GENO","GET AWAY","GET BACK","GET DOWN","GET IT ON","GET LUCKY","GET OFF OF MY CLOUD","GET RIGHT","GET UP RATTLE","GETTIN OVER YOU","GHETTO GOSPEL","GHOST","GHOST TOWN","GIRLFRIEND","GIVE A LITTLE LOVE","GIVE IT TO ME","GIVE IT UP","GIVE ME EVERYTHING","GIVE ME YOUR WORD","GLAD ALL OVER","GLAD YOU CAME","GO LET IT OUT","GO NOW","GOING UNDERGROUND/DREAMS OF CHILDREN","GONNA MAKE YOU A STAR","GOOD FEELING","GOOD LUCK CHARM","GOOD TIMES","GOOD TIMIN","GOOD VIBRATIONS","GOODBYE","GOODIES","GOODNIGHT GIRL","GOODY TWO SHOES","GOTTA GET THRU THIS","GRACE KELLY","GRANDAD","GREAT BALLS OF FIRE","GREATEST DAY","GREEN DOOR","GREEN GREEN GRASS OF HOME","GREEN LIGHT","GRENADE","GROOVEJET IF THIS AINT LOVE","GYM AND TONIC","HALL OF FAME","HALLELUJAH","HAND ON YOUR HEART","HANGIN TOUGH","HAPPY","HAPPY TALK","HAVE I THE RIGHT","HAVE YOU EVER","HE AINT HEAVY HES MY BROTHER","HE AINT HEAVY, HES MY BROTHER","HEART","HEART OF GLASS","HEART SKIPS A BEAT","HEARTBEAT/TRAGEDY","HEATWAVE","HEAVEN","HEAVEN IS A PLACE ON EARTH","HELLO","HELLO GOODBYE","HELP!","HERE COMES SUMMER","HERE IN MY HEART","HERNANDOS HIDEAWAY","HERO","HEROES","HEY BABY","HEY GIRL DONT BOTHER ME","HEY JOE","HEY JUDE","HIDEAWAY","HIPS DONT LIE","HIT ME WITH YOUR RHYTHM STICK","HOLD ME CLOSE","HOLD MY HAND","HOLE IN THE HEAD","HOLIDAY","HOLLER/LET LOVE LEAD THE WAY","HONKY TONK WOMEN","HOOTS MON","HOT LOVE","HOT RIGHT NOW","HOUSE EVERY WEEKEND","HOUSE OF FUN","HOW CAN I BE SURE","HOW DEEP IS YOUR LOVE","HOW DO YOU DO IT","HOW MUCH IS THAT DOGGIE IN THE WINDOW","HOW WE DO PARTY","HUNG UP","I BELIEVE","I BELIEVE I CAN FLY","I BELIEVE/UP ON THE ROOF","I BET YOU LOOK GOOD ON THE DANCEFLOOR","I CANT GET NO SATISFACTION","I CANT HELP FALLING IN LOVE WITH YOU","I CANT STOP LOVING YOU","I COULD BE THE ONE","I DONT CARE","I DONT FEEL LIKE DANCIN","I DONT LIKE MONDAYS","I DONT WANNA DANCE","I DONT WANNA KNOW","I DONT WANT TO TALK ABOUT IT/FIRST CUT IS THE DEEPEST","I FEEL FINE","I FEEL FOR YOU","I FEEL LOVE","I FEEL YOU","I GOT U","I GOT YOU BABE","I GOTTA FEELING","I HAVE A DREAM/SEASONS IN THE SUN","I HEAR YOU KNOCKING","I HEARD IT THROUGH THE GRAPEVINE","I JUST CALLED TO SAY I LOVE YOU","I JUST CANT STOP LOVING YOU","I KISSED A GIRL","I KNEW YOU WERE WAITING FOR ME","I KNOW HIM SO WELL","I LIKE IT","I LOVE IT","I LOVE TO LOVE BUT MY BABY LOVES TO DANCE","I LOVE YOU","I LOVE YOU LOVE ME LOVE","I ONLY HAVE EYES FOR YOU","I OWE YOU NOTHING","I PRETEND","I REMEMBER YOU","I SEE THE MOON","I SHOULD BE SO LUCKY","I SHOULD HAVE KNOWN BETTER","I THINK WERE ALONE NOW","I TOOK A PILL IN IBIZA","I TURN TO YOU","I WANNA BE THE ONE","I WANNA DANCE WITH SOMEBODY WHO LOVES ME","I WANNA FEEL","I WANNA SEX YOU UP","I WANT IT THAT WAY","I WANT TO HOLD YOUR HAND","I WANT TO KNOW WHAT LOVE IS","I WANT TO WAKE UP WITH YOU","I WANT YOU BACK","I WILL ALWAYS LOVE YOU","I WILL NEVER LET YOU DOWN","I WILL SURVIVE","I WISH I WAS A PUNK ROCKER WITH FLOWERS IN MY HAIR","ICE ICE BABY","ID DO ANYTHING FOR LOVE BUT I WONT DO THAT","ID LIKE TO TEACH THE WORLD TO SING IN PERFECT HARMONY","IF","IF I LET YOU GO","IF I WAS","IF I WERE A BOY","IF PARADISE IS HALF AS NICE","IF TOMORROW NEVER COMES","IF YOU COME BACK","IF YOU LEAVE ME NOW","IF YOU TOLERATE THIS YOUR CHILDREN WILL BE NEXT","IF YOURE NOT THE ONE","IGNITION","ILL BE HOME","ILL BE MISSING YOU","ILL BE OK","ILL NEVER FALL IN LOVE AGAIN","ILL NEVER FIND ANOTHER YOU","ILL STAND BY YOU","IM A BELIEVER","IM ALIVE","IM GONNA BE 500 MILES","IM INTO SOMETHING GOOD","IM NOT ALONE","IM NOT IN LOVE","IM STILL WAITING","IM THE LEADER OF THE GANG I AM","IM WALKING BEHIND YOU","IM YOUR MAN","IMAGINE","IMPOSSIBLE","IN MY HEAD","IN THE SUMMERTIME","IN THE YEAR 2525 EXORIUM AND TERMINUS","INDEPENDENT WOMEN PART 1","INNUENDO","INSIDE","INTO THE GROOVE","IS THERE SOMETHING I SHOULD KNOW","IS THIS THE WAY TO AMARILLO","ISLANDS IN THE STREAM","ISRAELITES","IT DOESNT MATTER ANYMORE","IT FEELS SO GOOD","IT WASNT ME","ITS A SIN","ITS ALL IN THE GAME","ITS ALL OVER NOW","ITS ALMOST TOMORROW","ITS CHICO TIME","ITS LIKE THAT","ITS MY BIRTHDAY","ITS MY PARTY","ITS NOT UNUSUAL","ITS NOW OR NEVER","ITS NOW OR NEVER **","ITS ONLY MAKE BELIEVE","ITS OVER","ITS RAINING MEN","ITSY BITSY TEENY WEENY YELLOW POLKA DOT BIKINI","IVE GOTTA GET A MESSAGE TO YOU","IVE NEVER BEEN TO ME","JACK YOUR BODY","JAILHOUSE ROCK","JANUARY","JAPANESE BOY","JCB SONG","JE TAIME... MOI NON PLUS","JEALOUS GUY","JEALOUS MIND","JESUS TO A CHILD","JOHNNY REMEMBER ME","JULIET","JUMPIN JACK FLASH","JUST A LITTLE","JUST DANCE","JUST LIKE A PILL","JUST LIKE STARTING OVER","JUST LOSE IT","JUST THE WAY YOU ARE AMAZING","JUST WALKIN IN THE RAIN","KARMA CHAMELEON","KEEP ON MOVIN","KEEP ON RUNNING","KILLER","KILLING IN THE NAME","KILLING ME SOFTLY","KING","KING OF MY CASTLE","KING OF THE ROAD","KISS KISS","KNOCK THREE TIMES","KNOCKIN ON HEAVENS DOOR/THROW THESE GUNS AWAY","KNOWING ME KNOWING YOU","KON-TIKI","KUNG FU FIGHTING","LA BAMBA","LA ISLA BONITA","LA LA LA","LADY HEAR ME TONIGHT","LADY MADONNA","LADY MARMALADE","LAY DOWN YOUR ARMS","LAY ME DOWN","LEAVE RIGHT NOW","LET IT BE","LET ME BE YOUR FANTASY","LET ME LOVE YOU UNTIL YOU LEARN TO LOVE","LET THE HEARTACHES BEGIN","LETS DANCE","LETS GET READY TO RHUMBLE","LETS HAVE ANOTHER PARTY","LETS PARTY","LIFE IS A ROLLERCOASTER","LIFT ME UP","LIGHT MY FIRE","LIKE A PRAYER","LIKE TOY SOLDIERS","LILY THE PINK","LITTLE CHILDREN","LITTLE RED ROOSTER","LITTLE THINGS","LITTLE THINGS MEAN A LOT","LIVIN LA VIDA LOCA","LIVING DOLL","LIVING ON MY OWN","LOCA PEOPLE","LOLAS THEME","LONELINESS","LONELY","LONELY THIS CHRISTMAS","LONG HAIRED LOVER FROM LIVERPOOL","LONG LIVE LOVE","LOOK AT THAT GIRL","LOOK RIGHT THROUGH","LOSE YOURSELF","LOUDER","LOVE CAN BUILD A BRIDGE","LOVE DONT COST A THING","LOVE GROWS WHERE MY ROSEMARY GOES","LOVE IS ALL AROUND","LOVE ME AGAIN","LOVE ME FOR A REASON","LOVE ME LIKE YOU DO","LOVE WONT WAIT","LOVE YOU MORE","LOVE YOURSELF","LOVERS ON THE SUN","LOVESICK BLUES","LUCILLE","LYLA","MACK THE KNIFE","MAD WORLD","MAGIC MOMENTS","MAKE IT EASY ON YOURSELF","MAKE LUV","MAKE ME SMILE COME UP AND SEE ME","MAKING YOUR MIND UP","MAMA DO","MAMA WEER ALL CRAZEE NOW","MAMA/WHO DO YOU THINK YOU ARE","MAMBO ITALIANO","MAMBO NO 5","MAMBO NO 5 A LITTLE BIT OF…","MAMMA MIA","MANDY","MANEATER","MARIA","MARIES THE NAME HIS LATEST FLAME/LITTLE SISTER","MARVIN GAYE","MARYS BOY CHILD","MARYS BOY CHILDOH MY LORD","MASSACHUSETTS","MATCHSTALK MEN AND MATCHSTALK CATS AND DOGS","ME AND MY BROKEN HEART","MEET ME HALFWAY","MEMORIES ARE MADE OF THIS","MEN IN BLACK","MERCY","MERRY CHRISTMAS EVERYONE","MERRY XMAS EVERYBODY","MESSAGE IN A BOTTLE","METAL GURU","MI CHICO LATINO","MICHAEL","MICHELLE","MIGHTY QUINN","MILLENNIUM","MILLENNIUM PRAYER","MIRRORS","MISSISSIPPI","MISTLETOE AND WINE","MMMBOP","MONEY ON MY MIND","MONY MONY","MOON RIVER","MORE THAN A WOMAN","MOULDY OLD DOUGH","MOVE CLOSER","MR BLOBBY","MR TAMBOURINE MAN","MR VAIN","MS GRACE","MULL OF KINTYRE/GIRLS SCHOOL","MUSIC","MY CAMERA NEVER LIES","MY DING-A-LING","MY HEART WILL GO ON","MY LIFE WOULD SUCK WITHOUT YOU","MY LOVE","MY OLD MANS A DUSTMAN","MY PLACE/FLAP YOUR WINGS","MY SON MY SON","MY SWEET LORD","MYSTERIOUS GIRL","NASTY GIRL","NEED U 100 PERCENT","NEEDLES AND PINS","NEVER BE THE SAME AGAIN","NEVER EVER","NEVER FORGET","NEVER GONNA GIVE YOU UP","NEVER GONNA LEAVE YOUR SIDE","NEVER HAD A DREAM COME TRUE","NEVER LEAVE YOU","NIGHT FEVER","NO CHARGE","NO LIMIT","NO MATTER WHAT","NO OTHER LOVE","NO REGRETS","NO TOMORROW","NOBODY TO LOVE","NOT LETTING GO","NOTHIN ON YOU","NOTHING COMPARES 2 U","NOTHINGS GONNA CHANGE MY LOVE FOR YOU","NOTHINGS GONNA STOP US NOW","NOW YOURE GONE","NUMBER 1","NUT ROCKER","OB-LA-DI OB-LA-DA","OBVIOUSLY","OH BOY","OH CAROLINA","OH JULIE","OH MEIN PAPA","OH PRETTY WOMAN","OMG","ON THE FLOOR","ON THE REBOUND","ON THE STREET WHERE YOU LIVE","ONCE","ONE DANCE","ONE DAY AT A TIME","ONE DAY IN YOUR LIFE","ONE MOMENT IN TIME","ONE NIGHT/I GOT STUNG","ONE WAY OR ANOTHER TEENAGE KICKS","ONLY GIRL IN THE WORLD","ONLY SIXTEEN","ONLY THE LONELY","ONLY YOU","OOH AAH... JUST A LITTLE BIT","OOPS!... I DID IT AGAIN","OOPSY DAISY","ORINOCO FLOW","OUT OF TIME","OUTSIDE OF HEAVEN","OVER AND OVER","PAINT IT, BLACK","PAPA DONT PREACH","PAPERBACK WRITER","PARADISE","PART OF ME","PARTY ROCK ANTHEM","PASS OUT","PASS THE DUTCHIE","PATIENCE","PAYPHONE","PERFECT","PERFECT DAY","PERFECT MOMENT","PILLOWTALK","PIPES OF PEACE","PLEASE DONT GO/GAME BOY","PLEASE DONT LET ME GO","PLEASE DONT TEASE","POETRY IN MOTION","POKER FACE","POOR ME","POOR PEOPLE OF PARIS","PRAISE YOU","PRAY","PRAYER IN C","PRETTY FLAMINGO","PRETTY FLY FOR A WHITE GUY","PRICE TAG","PRINCE CHARMING","PROBLEM","PROFESSIONAL WIDOW ITS GOT TO BE BIG","PROMISE THIS","PROMISES","PUMP UP THE VOLUME / ANITINA THE FIRST TIME I SEE SHE DANCE","PUPPET ON A STRING","PUPPY LOVE","PURE AND SIMPLE","PURE SHORES","PUSH THE BUTTON","PUT YOUR HANDS UP FOR DETROIT","QUEEN OF MY HEART","R.I.P.","RADIO","RAT TRAP","RATHER BE","REACH FOR THE STARS/CLIMB EVRY MOUNTAIN","REACH OUT ILL BE THERE","READ ALL ABOUT IT","READY OR NOT","REAL TO ME","REASON TO BELIEVE/MAGGIE MAY","RED RED WINE","REET PETITE THE SWEETEST GIRL IN TOWN","RELAX","RELEASE ME","RELIGHT MY FIRE","REPLAY","RESPECTABLE","RETURN OF THE MACK","RETURN TO SENDER","RHYTHM IS A DANCER","RIDE ON TIME","RIGHT ROUND","RING MY BELL","RISE","RIVERS OF BABYLON/BROWN GIRL IN THE RING","ROAR","ROCK A HULA BABY/CANT HELP FALLING IN LOVE","ROCK AND ROLL WALTZ","ROCK AROUND THE CLOCK","ROCK DJ","ROCK ME AMADEUS","ROCK YOUR BABY","ROCK-A-BILLY","ROCKABYE","ROLLERCOASTER","ROLLIN","ROSE MARIE","ROULETTE","ROUND ROUND","ROYALS","RUBBER BULLETS","RUBY","RUDE","RUN","RUN THIS TOWN","RUNAWAY","RUNNING BEAR","SACRIFICE/HEALING HANDS","SAD SWEET DREAMER","SADENESS PART 1","SAILING","SAILOR","SAME OLD BRAND NEW YOU","SAN FRANCISCO BE SURE TO WEAR SOME FLOWERS IN YOUR HAIR","SATURDAY NIGHT","SAVE YOUR KISSES FOR ME","SAVE YOUR LOVE","SAVING ALL MY LOVE FOR YOU","SAVIOURS DAY","SAY YOU WONT LET GO","SAY YOULL BE THERE","SCHOOLS OUT","SCREAM & SHOUT","SEALED WITH A KISS","SEASONS IN THE SUN","SECRET LOVE","SEE MY BABY JIVE","SEE YOU AGAIN","SETTING SUN","SEVEN TEARS","SEX ON FIRE","SEXY CHICK","SEXYBACK","SHADDAP YOU FACE","SHAKIN ALL OVER","SHAPE OF YOU","SHE","SHE LOOKS SO PERFECT","SHE LOVES YOU","SHE MAKES ME WANNA","SHE WEARS RED FEATHERS","SHES NOT YOU","SHES THE ONE/ITS ONLY US","SHINE","SHOULD I STAY OR SHOULD I GO","SHOUT","SHOUT OUT TO MY EX","SHOW ME HEAVEN","SHOW YOU THE WAY TO GO","SIDE SADDLE","SIGN OF THE TIMES","SILENCE IS GOLDEN","SILVER LADY","SING","SINGIN IN THE RAIN","SINGING THE BLUES","SIXTEEN TONS","SKWEEZE ME PLEEZE ME","SKYSCRAPER","SLEEPING SATELLITE","SLOW","SMACK THAT","SMILE","SMOKE GETS IN YOUR EYES","SO SICK","SO WHAT","SO YOU WIN AGAIN","SOFTLY, SOFTLY","SOME MIGHT SAY","SOMEBODY HELP ME","SOMEBODY THAT I USED TO KNOW","SOMEONE LIKE YOU","SOMETHIN STUPID","SOMETHING ABOUT THE WAY YOU LOOK TONIGHT/CANDLE IN THE WIND 97","SOMETHING I NEED","SOMETHING IN THE AIR","SOMETHINGS GOTTEN HOLD OF MY HEART","SOMETIMES YOU CANT MAKE IT ON YOUR OWN","SOMEWHERE ONLY WE KNOW","SON OF MY FATHER","SORRY","SORRY SEEMS TO BE THE HARDEST WORD","SOUND OF THE UNDERGROUND","SPACE ODDITY","SPACEMAN","SPECTRUM","SPICE UP YOUR LIFE","SPINNING AROUND","SPIRIT IN THE SKY","STAN","STAND AND DELIVER","STAND BY ME","STAND BY YOUR MAN","STAR GIRL","STAR TREKKIN","STARRY EYED","START","START WITHOUT YOU","STAY","STAY ANOTHER DAY","STAY AWAKE","STAY WITH ME","STICKWITU","STITCHES","STOMP","STOP LIVING THE LIE","STRANGER IN PARADISE","STRANGERS IN THE NIGHT","STRONGER","SUCH A NIGHT","SUGAR BABY LOVE","SUGAR SUGAR","SUMMER","SUMMER HOLIDAY","SUMMER NIGHTS","SUNDAY GIRL","SUNNY AFTERNOON","SUPER TROUPER","SURE","SURRENDER","SURVIVOR","SWAGGER JAGGER","SWEAR IT AGAIN","SWEET LIKE CHOCOLATE","SWEET NOTHING","SWEETS FOR MY SWEET","SWING THE MOOD","TAINTED LOVE","TAKE A BOW","TAKE A CHANCE ON ME","TAKE ME BACK OME","TAKE ME TO THE CLOUDS ABOVE","TAKE MY BREATH AWAY LOVE THEME FROM TOP GUN","TAKE ON ME","TALK DIRTY","TEARS","TEARS OF A CLOWN","TEARS ON MY PILLOW","TELEGRAM SAM","TELEPHONE","TELETUBBIES SAY EH-OH!","TELL LAURA I LOVE HER","TELSTAR","TEMPTATION","THATLL BE THE DAY","THATS MY GOAL","THATS NOT MY NAME","THATS WHAT I LIKE","THE BALLAD OF BONNIE AND CLYDE","THE BALLAD OF JOHN AND YOKO","THE CARNIVAL IS OVER","THE CHICKEN SONG","THE CLIMB","THE CLUB IS ALIVE","THE DAYS THE RAINS CAME","THE DRUGS DONT WORK","THE EDGE OF HEAVEN/WHERE DID YOUR HEART GO","THE FEAR","THE FINAL COUNTDOWN","THE FIRST TIME","THE FLY","THE GARDEN OF EDEN","THE GOOD THE BAD AND THE UGLY","THE HINDU TIMES","THE HOUSE OF THE RISING SUN","THE IMPORTANCE OF BEING IDLE","THE JOKER","THE KETCHUP SONG ASEREJE","THE LADY IN RED","THE LAND OF MAKE BELIEVE","THE LAST TIME","THE LAST WALTZ","THE LAZY SONG","THE LEGEND OF XANADU","THE LION SLEEPS TONIGHT","THE LONG AND WINDING ROAD/SUSPICIOUS MINDS","THE MAN","THE MAN FROM LARAMIE","THE MASSES AGAINST THE CLASSES","THE MINUTE YOURE GONE","THE MODEL/COMPUTER LOVE","THE MONSTER","THE MOST BEAUTIFUL GIRL IN THE WORLD","THE NAME OF THE GAME","THE NEXT TIME/BACHELOR BOY","THE OFFICIAL BBC CHILDREN IN NEED MEDLEY","THE ONE AND ONLY","THE ONLY WAY IS UP","THE POWER","THE POWER OF LOVE","THE PROMISE","THE REAL SLIM SHADY","THE REAL THING","THE REFLEX","THE ROSE","THE ROUSSOS PHENOMENON EP","THE SHOOP SHOOP SONG ITS IN HIS KISS","THE SONG FROM MOULIN ROUGE","THE SPECIAL A.K.A. LIVE! EP","THE STONK","THE STORY OF MY LIFE","THE STREAK","THE SUN AINT GONNA SHINE ANYMORE","THE SUN ALWAYS SHINES ON TV","THE TIDE IS HIGH","THE TIDE IS HIGH GET THE FEELING","THE TIME DIRTY BIT","THE TWELFTH OF NEVER","THE WAY I ARE","THE WAY TO YOUR LOVE","THE WAYWARD WIND","THE WINNER TAKES IT ALL","THE WONDER OF YOU","THE YOUNG ONES","THEME FROM M*A*S*H SUICIDE IS PAINLESS","THEME FROM S-EXPRESS","THERE MUST BE AN ANGEL PLAYING WITH MY HEART","THERES ALWAYS SOMETHING THERE TO REMIND ME","THERES NO ONE QUITE LIKE GRANDMA","THESE BOOTS ARE MADE FOR WALKIN","THESE DAYS","THESE WORDS","THINGS CAN ONLY GET BETTER","THINK TWICE","THINKING OUT LOUD","THIS AINT A LOVE SONG","THIS IS LOVE","THIS IS MY SONG","THIS OLE HOUSE","THOSE WERE THE DAYS","THREE COINS IN THE FOUNTAIN","THREE LIONS 98","THREE LIONS THE OFFICIAL SONG OF THE ENGLAND FOOTBALL TEAM","THREE STEPS TO HEAVEN","THREE TIMES A LADY","THRIFT SHOP","THUNDER IN MY HEART AGAIN","THUNDERBIRDS/3AM","TICKET TO RIDE","TIE A YELLOW RIBBON ROUND THE OLD OAK TREE","TIGER FEET","TIMBER","TIRED OF WAITING FOR YOU","TITANIUM","TO YOU I BELONG","TOCAS MIRACLE","TOGETHER WE ARE BEAUTIFUL","TOO CLOSE","TOO MANY BROKEN HEARTS","TOO MUCH","TOO SHY","TOTAL ECLIPSE OF THE HEART","TOUCH ME","TOWER OF STRENGTH","TOXIC","TRAGEDY","TRAVELLIN LIGHT","TROUBLEMAKER","TRUE BLUE","TRUE.","TSUNAMI JUMP","TURN BACK TIME","TURN THE MUSIC LOUDER RUMBLE","TURN UP THE MUSIC","TURTLE POWER","TWILIGHT","TWIST & SHOUT","TWO LITTLE BOYS","TWO TRIBES","UMBRELLA","UNBREAKABLE","UNCHAINED MELODY","UNCHAINED MELODY/THERELL BE BLUEBIRDS OVER WHITE CLIFFS OF DOVER","UNDER CONTROL","UNDER PRESSURE","UNDER THE BRIDGE/LADY MARMALADE","UNDER THE MOON OF LOVE","UP TOWN TOP RANKING","UPTOWN FUNK","UPTOWN GIRL","USE IT UP AND WEAR IT OUT","VERTIGO","VIDEO KILLED THE RADIO STAR","VINCENT","VIVA FOREVER","VIVA LA VIDA","VOGUE","VOODOO CHILE","WAITING ALL NIGHT","WAKE ME UP","WAKE ME UP BEFORE YOU GO-GO","WALK RIGHT BACK/EBONY EYES","WALK THIS WAY","WALKIN BACK TO HAPPINESS","WALKING ON THE MOON","WANDRIN STAR","WANNABE","WANT TO WANT ME","WATERLOO","WAVES","WAY DOWN","WE ARE THE WORLD","WE ARE YOUNG","WE CANT STOP","WE DONT TALK ANYMORE","WE FOUND LOVE","WE NO SPEAK AMERICANO","WE R WHO WE R","WE WILL ROCK YOU","WELCOME HOME","WELCOME TO THE BLACK PARADE","WELL I ASK YOU","WERE GOING TO IBIZA!","WEST END GIRLS","WHAT A WONDERFUL WORLD","WHAT A WONDERFUL WORLD/CABARET","WHAT ABOUT US","WHAT BECOMES OF THE BROKENHEARTED/SATURDAY NIGHT AT THE MOVIES/YOULL NEVER WALK ALONE","WHAT DO YOU MEAN","WHAT DO YOU WANT","WHAT DO YOU WANT TO MAKE THOSE EYES AT ME FOR","WHAT MAKES YOU BEAUTIFUL","WHAT TOOK YOU SO LONG","WHATEVER WILL BE WILL BE","WHATS ANOTHER YEAR","WHATS MY NAME","WHEN","WHEN A CHILD IS BORN SOLEADO","WHEN I NEED YOU","WHEN LOVE TAKES OVER","WHEN THE GOING GETS TOUGH","WHEN THE GOING GETS TOUGH, THE TOUGH GET GOING","WHEN THE SUN GOES DOWN","WHEN WE COLLIDE","WHEN WILL I SEE YOU AGAIN","WHEN YOU BELIEVE","WHEN YOU SAY NOTHING AT ALL","WHEN YOURE IN LOVE WITH A BEAUTIFUL WOMAN","WHERE ARE YOU NOW MY LOVE","WHERE DO YOU GO TO MY LOVELY","WHERE IS THE LOVE","WHEREVER I LAY MY HAT THATS MY HOME","WHEREVER YOU ARE","WHISPERING GRASS","WHOLE AGAIN","WHOLE LOTTA WOMAN","WHOS DAVID","WHOS SORRY NOW","WHOS THAT GIRL","WHY","WHY DO FOOLS FALL IN LOVE","WINGS","WISHING ON A STAR","WITH A GIRL LIKE YOU","WITH A LITTLE HELP FROM MY FRIENDS","WITH A LITTLE HELP FROM MY FRIENDS/MEASURE OF A MAN","WITH A LITTLE HELP FROM MY FRIENDS/SHES LEAVING HOME","WITH EVERY HEARTBEAT","WITHOUT ME","WITHOUT YOU","WOMAN","WOMAN IN LOVE","WONDERFUL","WONDERFUL LAND","WOODEN HEART","WOODSTOCK","WORDS","WORKING MY WAY BACK TO YOUFORGIVE ME GIRL MEDLEY","WORLD IN MOTION","WORLD OF OUR OWN","WOULD I LIE TO YOU","WRECKING BALL","WRITINGS ON THE WALL","WRITTEN IN THE STARS","WUTHERING HEIGHTS","XANADU","Y.M.C.A.","YEAH","YEH YEH","YELLOW RIVER","YELLOW SUBMARINE/ELEANOR RIGBY","YES SIR I CAN BOOGIE","YES TONIGHT JOSEPHINE","YOU ARE NOT ALONE","YOU BELONG TO ME","YOU CANT HURRY LOVE","YOU DONT HAVE TO SAY YOU LOVE ME","YOU DONT KNOW","YOU DONT KNOW ME","YOU GOT IT THE RIGHT STUFF","YOU MAKE ME WANNA...","YOU NEEDED ME","YOU RAISE ME UP","YOU REALLY GOT ME","YOU SAID NO","YOU SEE THE TROUBLE WITH ME","YOU SPIN ME ROUND LIKE A RECORD","YOU TO ME ARE EVERYTHING","YOU WEAR IT WELL","YOU WIN AGAIN","YOU WONT FIND ANOTHER FOOL LIKE ME","YOULL NEVER STOP ME LOVING YOU","YOULL NEVER WALK ALONE","YOUNG","YOUNG AT HEART","YOUNG GIRL","YOUNG LOVE","YOUR WOMAN","YOURE BEAUTIFUL","YOURE DRIVING ME CRAZY","YOURE MY WORLD","YOURE NOT ALONE","YOURE THE DEVIL IN DISGUISE","YOURE THE FIRST THE LAST MY EVERYTHING","YOURE THE ONE THAT I WANT","YOUVE LOST THAT LOVING FEELIN"];

var intents = new builder.IntentDialog();
bot.dialog('/', intents);


intents.matches(/^film/i, [
    function (session) {
        session.userData.lives = 5;
        session.userData.word = films[Math.floor(Math.random() * films.length)];
        session.userData.masked = session.userData.word.replace(/[A-Z]/ig,'?')
        session.send('Guess the film title');
        session.beginDialog('/guess');
    }
]);

intents.matches(/^song/i, [
    function (session) {
        session.userData.lives = 5;
        session.userData.word = songs[Math.floor(Math.random() * songs.length)];
        session.userData.masked = session.userData.word.replace(/[A-Z]/ig,'?')
        session.send('Guess the song title');
        session.beginDialog('/guess');
    }
]);

intents.onDefault([
    function (session) {
        session.beginDialog('/welcome');
    }
]);

bot.dialog('/guess', [
    function (session) {
        session.send('You have ' + session.userData.lives + ' ' + (session.userData.lives == 1 ? 'life' : 'lives') + ' left');
        builder.Prompts.text(session, session.userData.masked);
    },
    function (session, results) {
        var nextDialog = GetNextDialog(session, results);
        session.beginDialog(nextDialog);        
    }
]);

bot.dialog('/win', [
    function (session) {
        session.send(session.userData.masked);
        session.send('Well done, you win!');
        session.endDialog();
    }
]);

bot.dialog('/welcome', [
    function (session) {
        session.send("Hi I'm Hangman Bot. Type 'film' or 'song' to start a new game.");
        session.endDialog();
    }
]);

bot.dialog('/gameover', [
    function (session) {
        session.send('Game Over! You lose!');
        session.send(session.userData.word);
        session.endDialog();
    }
]);

function GetNextDialog(session, results){
    var nextDialog = '';
    if(results.response.length > 1)
    {
        if(results.response.toUpperCase() === session.userData.word.toUpperCase())
        {
            session.userData.masked = session.userData.word;
            nextDialog = '/win';
        }
        else
        {
            session.userData.lives--;
            nextDialog = session.userData.lives === 0 ? '/gameover' : '/guess';
        }
    }
    else
    {
        session.userData.letter = results.response;
        session.userData.masked = RevealLettersInMaskedWord(session, results);
        
        if(session.userData.masked == session.userData.word)
        {
            nextDialog = '/win';
        }
        else
        {
            nextDialog = session.userData.lives === 0 ? '/gameover' : '/guess';
        }
    }
    return nextDialog;
}

function RevealLettersInMaskedWord(session, results)
{
    var wordLength = session.userData.word.length;
    var maskedWord = "";
    var found = false;
    for(var i = 0; i < wordLength; i++)
    {
        var letter = session.userData.word[i];
        if(letter.toUpperCase() === results.response.toUpperCase())
        {
            maskedWord += letter;
            found = true;
        }
        else
        {
            maskedWord += session.userData.masked[i];
        }
    }

    if(found === false)
    {
        session.userData.lives--;
    }

    return maskedWord;
}